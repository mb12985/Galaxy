{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","dataset_url","add_track_async_url","filters","success_fn","$","ajax","url","data","error","alert","success","table_html","Galaxy","modal","show","title","body","buttons","Cancel","hide","Add","requests","data_type","hda_ldda","id","attr","length","dataType","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","key","path","image","Image","src","galaxy_config","root","onload","createPattern","get_pattern","canvas","window","G_vmlCanvasManager","initElement","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","value","deleted_key","shift","push","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","response","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","name","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","options","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","label","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","add","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"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"}